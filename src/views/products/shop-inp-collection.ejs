<!-- page-title -->

<div class="page-title" style="background-image: url(<%= bannerImage %>);">
  <div class="container-full">
    <div class="row">
      <div class="col-12">
        <!-- <h3 class="heading text-center"><%= bannerLabel %></h3> -->
        <!-- <ul class="breadcrumbs d-flex align-items-center justify-content-center">
          <li><a class="link" href="/">Homepage</a></li>
          <li><i class="icon-arrRight"></i></li>
          <li><%= bannerLabel %></li>
        </ul> -->
      </div>
    </div>
  </div>
</div>

<!-- /page-title -->




<!-- Section product -->
<section class="flat-spacing">
   <div class="container">
      <div class="tf-shop-control">
         <div class="tf-control-filter">
            <a href="#filterShop" data-bs-toggle="offcanvas" aria-controls="filterShop" class="tf-btn-filter">
            <span class="icon icon-filter"></span>
            <span class="text">Filters</span>
            </a>
            <div class="d-none d-lg-flex shop-sale-text">
               <i class="icon icon-checkCircle"></i>
               <p class="text-caption-1">Shop sale items only</p>
            </div>
         </div>
         <ul class="tf-control-layout">
            <li class="tf-view-layout-switch sw-layout-2" data-value-layout="tf-col-2">
               <div class="item">
                  <svg class="icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                     <circle cx="6" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="14" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="6" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="14" cy="14" r="2.5" stroke="#181818" />
                  </svg>
               </div>
            </li>
            <li class="tf-view-layout-switch sw-layout-3" data-value-layout="tf-col-3">
               <div class="item">
                  <svg class="icon" width="22" height="20" viewBox="0 0 22 20" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                     <circle cx="3" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="11" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="19" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="3" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="11" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="19" cy="14" r="2.5" stroke="#181818" />
                  </svg>
               </div>
            </li>
            <li class="tf-view-layout-switch sw-layout-4 active" data-value-layout="tf-col-4">
               <div class="item">
                  <svg class="icon" width="30" height="20" viewBox="0 0 30 20" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                     <circle cx="3" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="11" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="19" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="27" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="3" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="11" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="19" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="27" cy="14" r="2.5" stroke="#181818" />
                  </svg>
               </div>
            </li>
            <li class="tf-view-layout-switch sw-layout-5" data-value-layout="tf-col-5">
               <div class="item">
                  <svg class="icon" width="38" height="20" viewBox="0 0 38 20" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                     <circle cx="3" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="11" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="19" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="27" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="35" cy="6" r="2.5" stroke="#181818" />
                     <circle cx="3" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="11" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="19" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="27" cy="14" r="2.5" stroke="#181818" />
                     <circle cx="35" cy="14" r="2.5" stroke="#181818" />
                  </svg>
               </div>
            </li>
         </ul>
         <div class="tf-control-sorting">
            <p class="d-none d-lg-block text-caption-1">Sort by:</p>
            <div class="tf-dropdown-sort" data-bs-toggle="dropdown">
               <div class="btn-select">
                  <span class="text-sort-value">Best selling</span>
                  <span class="icon icon-arrow-down"></span>
               </div>
               <div class="dropdown-menu">
                  <div class="select-item" data-sort-value="best-selling">
                     <span class="text-value-item">Best selling</span>
                  </div>
                  <div class="select-item" data-sort-value="a-z">
                     <span class="text-value-item">Alphabetically, A-Z</span>
                  </div>
                  <div class="select-item" data-sort-value="z-a">
                     <span class="text-value-item">Alphabetically, Z-A</span>
                  </div>
                  <div class="select-item" data-sort-value="price-low-high">
                     <span class="text-value-item">Price, low to high</span>
                  </div>
                  <div class="select-item" data-sort-value="price-high-low">
                     <span class="text-value-item">Price, high to low</span>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="wrapper-control-shop">
         <div class="meta-filter-shop">
            <div id="product-count-grid" class="count-text">
               Showing <%= ((pagination.page - 1) * pagination.limit) + 1 %> - <%= Math.min(pagination.page *
                  pagination.limit, pagination.total) %> of <%= pagination.total %> products
            </div>
            <div id="product-count-list" class="count-text"></div>
            <div id="applied-filters"></div>
            <button id="remove-all" class="remove-all-filters text-btn-uppercase" style="display: none;">
            REMOVE ALL <i class="icon icon-close"></i>
            </button>
         </div>
         <div class="tf-grid-layout wrapper-shop tf-col-4" id="gridLayout">
            <% if (products && products.length> 0) { %>
            <% products.forEach(product=> { %>
            <%- include("shop-card", { product: product }) %>
            <% }) %>
            <% } else { %>
            <div class="col-12">
               <div class="text-center py-5">
                  <h4>No products found</h4>
                  <p>Try adjusting your filters or check back later.</p>
               </div>
            </div>
            <% } %>
         </div>
         <!-- pagination -->
         <% if (pagination.pages> 1) { %>
         <ul class="wg-pagination justify-content-center">
            <!-- Previous Button -->
            <% if (pagination.page> 1) { %>
            <li>
               <a href="?page=<%= pagination.page - 1 %>" class="pagination-item text-button">
               <i class="icon-arrLeft"></i>
               </a>
            </li>
            <% } %>
            <!-- Page Numbers -->
            <% for (let i=1; i <=pagination.pages; i++) { %>
            <% if (i===pagination.page) { %>
            <li class="active">
               <div class="pagination-item text-button">
                  <%= i %>
               </div>
            </li>
            <% } else if (i===1 || i===pagination.pages || (i>= pagination.page - 2 && i <=
               pagination.page + 2)) { %>
            <li>
               <a href="?page=<%= i %>" class="pagination-item text-button">
               <%= i %>
               </a>
            </li>
            <% } else if (i===pagination.page - 3 || i===pagination.page + 3) { %>
            <li>
               <span class="pagination-item text-button">...</span>
            </li>
            <% } %>
            <% } %>
            <!-- Next Button -->
            <% if (pagination.page < pagination.pages) { %>
            <li>
               <a href="?page=<%= pagination.page + 1 %>"
                  class="pagination-item text-button">
               <i class="icon-arrRight"></i>
               </a>
            </li>
            <% } %>
         </ul>
         <% } %>
      </div>
   </div>
</section>
<!-- /Section product -->