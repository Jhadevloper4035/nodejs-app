<!-- breadcrumb -->
<div class="tf-breadcrumb">
    <div class="container">
        <div class="tf-breadcrumb-wrap">
            <div class="tf-breadcrumb-list">
                <a href="/" class="text text-caption-1">Home</a>
                <i class="icon icon-arrRight"></i>
                <a href="/account/orders" class="text text-caption-1">My Orders</a>
                <i class="icon icon-arrRight"></i>
                <span class="text text-caption-1">
                    <%= order.orderId %>
                </span>
            </div>
        </div>
    </div>
</div>
<!-- /breadcrumb -->

<style>
    :root {
        --cream: #F7F4EF;
        --warm-white: #FDFCFA;
        --charcoal: #1C1C1C;
        --mid: #6B6560;
        --accent: #8B6F47;
        --accent-light: #D4B896;
        --border: #E4DDD5;
        --success: #2E7D5E;
        --warning: #E67700;
        --card-bg: #FFFFFF;
        --shadow: 0 2px 20px rgba(28, 28, 28, 0.06);
    }

    .order-detail-wrap {
        max-width: 900px;
        margin: 0 auto;
        padding: 48px 32px;
    }

    .od-header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 16px;
        margin-bottom: 32px;
    }

    .od-title {
        font-family: 'Cormorant Garamond', serif;
        font-size: 32px;
        font-weight: 400;
        color: var(--charcoal);
    }

    .od-date {
        font-size: 13px;
        color: var(--mid);
        margin-top: 4px;
    }

    .status-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 13px;
        font-weight: 500;
        letter-spacing: 0.04em;
    }

    .status-badge.confirmed {
        background: #E8F5E9;
        color: #2E7D32;
    }

    .status-badge.pending {
        background: #FFF9DB;
        color: var(--warning);
    }

    .status-badge.processing {
        background: #E3F2FD;
        color: #1565C0;
    }

    .status-badge.shipped {
        background: #EDE7F6;
        color: #6A1B9A;
    }

    .status-badge.delivered {
        background: #E8F5E9;
        color: #2E7D32;
    }

    .status-badge.cancelled {
        background: #FFEBEE;
        color: #C62828;
    }

    .od-card {
        background: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 20px;
        box-shadow: var(--shadow);
    }

    .od-card-title {
        font-size: 11px;
        font-weight: 500;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--mid);
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--border);
    }

    /* Items */
    .od-item {
        display: flex;
        gap: 16px;
        padding: 16px 0;
        border-bottom: 1px solid var(--border);
    }

    .od-item:last-child {
        border-bottom: none;
        padding-bottom: 0;
    }

    .od-item img {
        width: 72px;
        height: 88px;
        border-radius: 8px;
        object-fit: cover;
        flex-shrink: 0;
        background: var(--cream);
    }

    .od-item-info {
        flex: 1;
    }

    .od-item-name {
        font-size: 15px;
        font-weight: 500;
        color: var(--charcoal);
        margin-bottom: 4px;
    }

    .od-item-meta {
        font-size: 13px;
        color: var(--mid);
        margin-bottom: 8px;
    }

    .od-item-price {
        font-family: 'Cormorant Garamond', serif;
        font-size: 16px;
        font-weight: 600;
        color: var(--charcoal);
    }

    /* Two col layout */
    .od-two-col {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
    }

    /* Address */
    .addr-block p {
        font-size: 14px;
        color: var(--mid);
        line-height: 1.7;
    }

    .addr-block strong {
        color: var(--charcoal);
        font-weight: 500;
    }

    /* Payment */
    .pay-row {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        color: var(--mid);
        padding: 6px 0;
    }

    .pay-row strong {
        color: var(--charcoal);
    }

    .pay-row.total {
        font-family: 'Cormorant Garamond', serif;
        font-size: 18px;
        font-weight: 600;
        color: var(--charcoal);
        padding-top: 12px;
        border-top: 1px solid var(--border);
        margin-top: 4px;
    }

    .pay-status-paid {
        color: var(--success);
        font-weight: 500;
    }

    .pay-status-pending {
        color: var(--warning);
        font-weight: 500;
    }

    /* Payment ID box */
    .payment-id-box {
        background: #F0EBE4;
        border-radius: 8px;
        padding: 12px 16px;
        font-size: 12px;
        color: var(--mid);
        margin-top: 12px;
        word-break: break-all;
    }

    .payment-id-box span {
        color: var(--charcoal);
        font-weight: 500;
    }

    /* Success banner */
    .success-banner {
        background: linear-gradient(135deg, #F0FAF4, #E8F5E9);
        border: 1px solid #A5D6A7;
        border-radius: 12px;
        padding: 24px;
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 28px;
    }

    .success-icon {
        width: 48px;
        height: 48px;
        background: var(--success);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .success-icon svg {
        width: 24px;
        height: 24px;
    }

    .success-banner h3 {
        font-size: 18px;
        font-weight: 500;
        color: #1B5E20;
        margin-bottom: 4px;
    }

    .success-banner p {
        font-size: 13px;
        color: #388E3C;
    }

    .btn-continue {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 28px;
        background: var(--charcoal);
        color: #fff;
        text-decoration: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.3s;
        margin-top: 8px;
    }

    .btn-continue:hover {
        background: var(--accent);
        transform: translateY(-1px);
    }

    @media (max-width: 640px) {
        .order-detail-wrap {
            padding: 24px 16px;
        }

        .od-two-col {
            grid-template-columns: 1fr;
        }

        .od-header {
            flex-direction: column;
        }
    }
</style>

<div class="order-detail-wrap">

    <!-- Success banner -->
    <div class="success-banner">
        <div class="success-icon">
            <svg fill="none" viewBox="0 0 24 24">
                <path d="M5 13l4 4L19 7" stroke="#fff" stroke-width="2.5" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </div>
        <div>
            <h3>Order Placed Successfully!</h3>
            <p>Thank you for your order. We'll send you a confirmation once it's processed.</p>
        </div>
    </div>

    <!-- Header -->
    <div class="od-header">
        <div>
            <h1 class="od-title">Order Details</h1>
            <p class="od-date">
                Order ID: <strong style="color:var(--charcoal)">
                    <%= order.orderId %>
                </strong>
                &nbsp;¬∑&nbsp;
                Placed on <%= new Date(order.createdAt).toLocaleDateString('en-IN', { day:'numeric', month:'long',
                    year:'numeric' }) %>
            </p>
        </div>
        <span class="status-badge <%= order.status %>">
            <svg width="8" height="8" viewBox="0 0 8 8">
                <circle cx="4" cy="4" r="4" fill="currentColor" />
            </svg>
            <%= order.status.charAt(0).toUpperCase() + order.status.slice(1) %>
        </span>
    </div>

    <!-- Order Items -->
    <div class="od-card">
        <div class="od-card-title">Items Ordered</div>
        <% order.items.forEach(function(item) { %>
            <div class="od-item">
                <img src="<%= item.image %>" alt="<%= item.name %>">
                <div class="od-item-info">
                    <div class="od-item-name">
                        <%= item.name %>
                    </div>
                    <div class="od-item-meta">Qty: <%= item.quantity %> &nbsp;¬∑&nbsp; ‚Çπ<%=
                                Number(item.price).toLocaleString('en-IN') %> each</div>
                    <div class="od-item-price">‚Çπ<%= (Number(item.price) * Number(item.quantity)).toLocaleString('en-IN')
                            %>
                    </div>
                </div>
            </div>
            <% }) %>
    </div>

    <!-- Addresses -->
    <div class="od-two-col">
        <div class="od-card">
            <div class="od-card-title">Shipping Address</div>
            <div class="addr-block">
                <p>
                    <strong>
                        <%= order.shippingAddress.fullName %>
                    </strong><br>
                    <%= order.shippingAddress.line1 %>
                        <% if(order.shippingAddress.line2) { %>, <%= order.shippingAddress.line2 %>
                                <% } %><br>
                                    <% if(order.shippingAddress.landmark) { %>
                                        <%= order.shippingAddress.landmark %>,<br>
                                            <% } %>
                                                <%= order.shippingAddress.city %>, <%= order.shippingAddress.state %> ‚Äì
                                                        <%= order.shippingAddress.postalCode %><br>
                                                            <%= order.shippingAddress.country %><br>
                                                                üìû <%= order.shippingAddress.phone %>
                </p>
            </div>
        </div>
        <div class="od-card">
            <div class="od-card-title">Billing Address</div>
            <div class="addr-block">
                <p>
                    <strong>
                        <%= order.billingAddress.fullName %>
                    </strong><br>
                    <%= order.billingAddress.line1 %>
                        <% if(order.billingAddress.line2) { %>, <%= order.billingAddress.line2 %>
                                <% } %><br>
                                    <% if(order.billingAddress.landmark) { %>
                                        <%= order.billingAddress.landmark %>,<br>
                                            <% } %>
                                                <%= order.billingAddress.city %>, <%= order.billingAddress.state %> ‚Äì
                                                        <%= order.billingAddress.postalCode %><br>
                                                            <%= order.billingAddress.country %><br>
                                                                üìû <%= order.billingAddress.phone %>
                </p>
            </div>
        </div>
    </div>

    <!-- Payment Summary -->
    <div class="od-card">
        <div class="od-card-title">Payment Summary</div>

        <div class="pay-row">
            <span>Subtotal</span>
            <strong>‚Çπ<%= Number(order.subtotal).toLocaleString('en-IN') %></strong>
        </div>
        <div class="pay-row">
            <span>Shipping</span>
            <strong style="color:var(--success)">
                <%= order.shippingCharge===0 ? 'Free' : '‚Çπ' + order.shippingCharge %>
            </strong>
        </div>
        <% if(order.discount> 0) { %>
            <div class="pay-row">
                <span>Discount</span>
                <strong style="color:var(--success)">‚àí‚Çπ<%= Number(order.discount).toLocaleString('en-IN') %></strong>
            </div>
            <% } %>
                <div class="pay-row total">
                    <span>Order Total</span>
                    <span>‚Çπ<%= Number(order.totalAmount).toLocaleString('en-IN') %></span>
                </div>

                <% if(order.payment.isCodAdvance) { %>
                    <!-- COD advance breakdown -->
                    <div
                        style="margin-top:16px;background:#FFF9DB;border:1px solid #FFD43B;border-radius:10px;padding:16px;">
                        <div
                            style="font-size:11px;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;color:#E67700;margin-bottom:12px;">
                            Cash on Delivery ‚Äî Payment Breakdown
                        </div>
                        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
                            <div style="background:#fff;border-radius:8px;padding:12px 14px;border:1px solid #FFD43B;">
                                <div
                                    style="font-size:11px;color:#aaa;text-transform:uppercase;letter-spacing:0.06em;margin-bottom:4px;">
                                    Paid Online (1/3)</div>
                                <div
                                    style="font-size:20px;font-family:'Cormorant Garamond',serif;font-weight:600;color:#E67700;">
                                    ‚Çπ<%= Number(order.payment.codAdvanceAmount).toLocaleString('en-IN') %>
                                </div>
                                <div style="font-size:11px;color:var(--success);margin-top:4px;font-weight:500;">‚úì
                                    Advance Paid</div>
                            </div>
                            <div style="background:#fff;border-radius:8px;padding:12px 14px;border:1px solid #FFD43B;">
                                <div
                                    style="font-size:11px;color:#aaa;text-transform:uppercase;letter-spacing:0.06em;margin-bottom:4px;">
                                    Due on Delivery (2/3)</div>
                                <div
                                    style="font-size:20px;font-family:'Cormorant Garamond',serif;font-weight:600;color:var(--charcoal);">
                                    ‚Çπ<%= Number(order.payment.codRemainingAmount).toLocaleString('en-IN') %>
                                </div>
                                <div style="font-size:11px;color:var(--warning);margin-top:4px;font-weight:500;">‚è≥ Cash
                                    at doorstep</div>
                            </div>
                        </div>
                    </div>
                    <% } %>

                        <div
                            style="margin-top:16px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
                            <div>
                                <div
                                    style="font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:var(--mid);margin-bottom:4px;">
                                    Payment Method</div>
                                <strong style="font-size:14px;color:var(--charcoal);text-transform:capitalize;">
                                    <%= order.payment.method==='cod' ? 'Cash on Delivery' :
                                        order.payment.method.toUpperCase() %>
                                </strong>
                            </div>
                            <div>
                                <div
                                    style="font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:var(--mid);margin-bottom:4px;">
                                    <%= order.payment.isCodAdvance ? 'Advance Status' : 'Payment Status' %>
                                </div>
                                <span class="pay-status-<%= order.payment.status === 'paid' ? 'paid' : 'pending' %>">
                                    <%= order.payment.status==='paid' ? '‚úì Paid' :
                                        order.payment.status.charAt(0).toUpperCase() + order.payment.status.slice(1) %>
                                </span>
                            </div>
                            <% if(order.payment.paidAt) { %>
                                <div>
                                    <div
                                        style="font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:var(--mid);margin-bottom:4px;">
                                        Paid On</div>
                                    <strong style="font-size:14px;color:var(--charcoal);">
                                        <%= new Date(order.payment.paidAt).toLocaleDateString('en-IN', { day:'numeric',
                                            month:'short', year:'numeric' }) %>
                                    </strong>
                                </div>
                                <% } %>
                        </div>

                        <% if(order.payment.razorpayPaymentId) { %>
                            <div class="payment-id-box">
                                Razorpay Payment ID: <span>
                                    <%= order.payment.razorpayPaymentId %>
                                </span>
                            </div>
                            <% } %>
    </div>

    <% if(order.orderNote) { %>
        <div class="od-card">
            <div class="od-card-title">Order Note</div>
            <p style="font-size:14px;color:var(--mid);line-height:1.7;">
                <%= order.orderNote %>
            </p>
        </div>
        <% } %>

            <a href="/shop" class="btn-continue">
                <svg width="16" height="16" fill="none" viewBox="0 0 24 24">
                    <path d="M19 12H5M12 5l-7 7 7 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
                Continue Shopping
            </a>

</div>